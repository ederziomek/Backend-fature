# Analytics Service Environment Variables

# Server Configuration
ANALYTICS_PORT=3005
ANALYTICS_HOST=0.0.0.0
NODE_ENV=development

# Database Configuration
DATABASE_URL=postgresql://postgres:senha123@localhost:5432/fature_analytics

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_ANALYTICS_DB=4

# JWT Configuration
JWT_SECRET=your-analytics-secret-key
JWT_EXPIRES_IN=24h

# External Services
AUTH_SERVICE_URL=http://localhost:3001
AFFILIATE_SERVICE_URL=http://localhost:3002
DATA_SERVICE_URL=http://localhost:3004
NOTIFICATION_SERVICE_URL=http://localhost:3003

# Analytics Configuration
ANALYTICS_RETENTION_DAYS=365
AGGREGATION_INTERVAL=3600000
REALTIME_INTERVAL=60000
CACHE_TIMEOUT=300000
REPORT_CACHE_TIMEOUT=1800000
MAX_RECORDS_PER_QUERY=10000
MAX_REPORT_SIZE=50000000
MAX_CONCURRENT_REPORTS=5
EXPORT_RETENTION_DAYS=7
MAX_EXPORT_SIZE=100000000

# Chart Configuration
CHART_DEFAULT_WIDTH=800
CHART_DEFAULT_HEIGHT=400
CHART_BACKGROUND_COLOR=#ffffff
CHART_FONT_FAMILY=Arial, sans-serif
CHART_FONT_SIZE=12
CHART_COLORS=#3498db,#e74c3c,#2ecc71,#f39c12,#9b59b6,#1abc9c,#34495e,#e67e22

# Alert Configuration
ALERTS_ENABLED=true
ALERT_CHECK_INTERVAL=300000
ALERT_CONVERSION_RATE_DROP=0.2
ALERT_REVENUE_DROP=0.3
ALERT_TRAFFIC_DROP=0.5
ALERT_ERROR_RATE=0.05
ALERT_EMAIL_ENABLED=true
ALERT_SLACK_ENABLED=false
SLACK_WEBHOOK_URL=

# Rate Limiting
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=1 minute

# Logging
LOG_LEVEL=info

# File Storage
STORAGE_TYPE=local
STORAGE_PATH=./uploads

# S3 Configuration (if using S3)
S3_BUCKET=
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# PDF Generation
PDF_FORMAT=A4
PDF_ORIENTATION=portrait
PDF_MARGIN_TOP=20mm
PDF_MARGIN_RIGHT=20mm
PDF_MARGIN_BOTTOM=20mm
PDF_MARGIN_LEFT=20mm
PDF_HEADER_FOOTER=true
PDF_PRINT_BACKGROUND=true

# Excel Configuration
EXCEL_SHEET_NAME=Analytics Report
EXCEL_INCLUDE_CHARTS=true
EXCEL_COMPRESSION=true

# Security
CORS_ORIGINS=*
RATE_LIMIT_BY_IP=true
REQUIRE_AUTH=true

# Performance Monitoring
MONITORING_ENABLED=true
METRICS_INTERVAL=60000
HEALTH_CHECK_INTERVAL=30000

# Feature Flags
FEATURE_REALTIME=true
FEATURE_ADVANCED_CHARTS=true
FEATURE_ML=false
FEATURE_CUSTOM_REPORTS=true
FEATURE_DATA_EXPORT=true
FEATURE_ALERTING=true

